<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>bash→fishへの移行 - hachi&#39;s blog</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="bash→fishへの移行" />
<meta property="og:description" content="はじめに ターミナルの画面が味気なくて物足りなさを感じる。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://m-88888888.github.io/posts/bashfish%E3%81%B8%E3%81%AE%E7%A7%BB%E8%A1%8C/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-01T23:26:53&#43;09:00" />
<meta property="article:modified_time" content="2020-02-01T23:26:53&#43;09:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="bash→fishへの移行"/>
<meta name="twitter:description" content="はじめに ターミナルの画面が味気なくて物足りなさを感じる。"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="https://m-88888888.github.iocss/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://m-88888888.github.iocss/main.css" />
	<link rel="stylesheet" type="text/css" href="https://m-88888888.github.iocss/custom.css" />
	<link rel="stylesheet" type="text/css" href="https://m-88888888.github.iocss/dark.css"  />
	<link rel="stylesheet" type="text/css" href="https://m-88888888.github.iocss/custom-dark.css"  />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<script src="https://m-88888888.github.iojs/main.js"></script>
	<script src="https://m-88888888.github.iojs/abc.js"></script>
	<script src="https://m-88888888.github.iojs/xyz.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<base href="https://m-88888888.github.io">
	<h1 class="site-title"><a href="https://m-88888888.github.io">hachi&#39;s blog</a></h1>
	<div class="site-description"><h2>いろいろアウトプット</h2><nav class="nav social">
			<ul class="flat"><a href="https://github.com/m-88888888" title="Github"><i data-feather="github"></i></a><a href="https://twitter.com/hachi88_10" title="Twitter"><i data-feather="twitter"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">bash→fishへの移行</h1>
			<div class="meta">Posted at &mdash; Feb 1, 2020</div>
		</div>

		<div class="markdown">
			<h2 id="はじめに">はじめに</h2>
<p>ターミナルの画面が味気なくて物足りなさを感じる。</p>
<p>テーマの導入がてら、ログインシェルをbashからfishに乗り換えてみる！</p>
<h2 id="homebrewでfishのインストール">Homebrewでfishのインストール</h2>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">brew update
brew install fish
</code></pre></div><h2 id="fishをshellに追加する">fishをshellに追加する</h2>
<p>シェルファイルにfishの情報を書き込む</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">sudo -s
echo /usr/local/bin/fish &gt;&gt; /etc/shells
exit
</code></pre></div><p><del>ログインシェルをfishに変更する</del><br>
ここで一つ問題が。fishは<code>POSIX非互換</code>のシェルらしい。</p>
<p>※<code>POSIX</code>とは、<code>シェルスクリプトの標準仕様</code>のこと。</p>
<p>なので<code>sh</code>で書かれたシェルスクリプトには対応していないらしく（別途Bash互換のスクリプトを動かすプラグインがあるらしい？？）</p>
<p><code>chsh</code>でログインシェルをfishに変えてしまうと、トラブルシューティングに苦労するかもとのこと。</p>
<h1 id="iterm2">iTerm2</h1>
<p>ログインシェルを変えずにターミナルの設定で起動時に読み込むシェルを指定する</p>
<!-- raw HTML omitted -->
<h2 id="path設定">PATH設定</h2>
<p><code>~/.config/fish/config.fish</code>を作る</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">touch ~/.config/fish/config.fish
</code></pre></div><p>PATHを書き込む<br>
あとaliasも設定しておく</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"># rbenv
set -x PATH $HOME/.rbenv/bin:$PATH
set -x PATH $HOME/.rbenv/shims $PATH
status --is-interactive; and source (rbenv init -|psub

# MySQL
set -x PATH /usr/local/opt/mysql@5.7/bin:$PATH)

# alias
alias be=&#39;bundle exec&#39;
alias gs=&#39;git status&#39;
alias ga=&#39;git add&#39;
alias gc=&#39;git commit&#39;
</code></pre></div><h1 id="fishプラグイン">fishプラグイン</h1>
<h2 id="プラグイン管理ツールfisheをインストール">プラグイン管理ツールfisheをインストール</h2>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">curl https://git.io/fisher --create-dirs -sLo ~/.config/fish/functions/fisher.fish
</code></pre></div><h2 id="bobthefishをインストール">bobthefishをインストール</h2>
<p>gitのブランチやらステータスを表示してくれる優秀なやつ</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">fisher add oh-my-fish/theme-bobthefish
</code></pre></div><h2 id="power-line-fontsをインストール">Power-line-fontsをインストール</h2>
<p>デフォルトでtheme-bobthefishを使うと、文字化けしてしまう</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">git clone https://github.com/powerline/fonts.git
cd fonts
./install.sh
cd ../
rm -rf ./fonts
</code></pre></div><p>iTerm2 &gt; Preferences &gt; Profiles &gt; Text &gt; Change Fontから、Literation Mono Powerlineを選択</p>
<p>これでOK</p>
<h2 id="fisherのconfig">fisherのconfig</h2>
<p>とりあえずの設定。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"># theme-bobthefish
set -g fish_prompt_pwd_dir_length 0  # ディレクトリ省略しない
set -g theme_display_git_master_branch yes # git branch名を表示
set -g theme_display_date no  # 時刻を表示しないように設定
set -g theme_display_cmd_duration no  # コマンド実行時間の非表示
</code></pre></div><p>最終的にこんな感じになった。</p>
<!-- raw HTML omitted -->
<p>今日はここまで。</p>

		</div>

		<div class="post-tags">
			
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> © Copyright m-88888888 |  <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-192108063-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>feather.replace()</script>
</body>
</html>
